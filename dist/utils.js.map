{"version":3,"sources":["../src/utils.js"],"names":["appEvents","hostname","window","location","http","postgRestHost","influxHost","tasklistHostName","camundaHost","camundaRestApi","post","url","line","Promise","resolve","reject","xhr","XMLHttpRequest","open","onreadystatechange","handleResponse","onerror","e","send","readyState","status","res","JSON","parse","responseText","statusText","get","alert","type","title","msg","emit","showModal","html","data","mClass","src","modalClass","model","sure","promise","then","ok","catch","error"],"mappings":"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","file":"utils.js","sourcesContent":["import { appEvents } from 'app/core/core';\n\nconst hostname = window.location.hostname;\nconst http = 'http://';\nexport const postgRestHost = http + hostname + ':5436/';\nexport const influxHost = http + hostname + ':8086/';\n\nlet tasklistHostName = hostname;\nif (tasklistHostName === 'localhost') {\n\ttasklistHostName = '127.0.0.1';\n}\nexport const camundaHost = http + tasklistHostName + ':8080/camunda/app/tasklist';\nexport const camundaRestApi = http + hostname + ':8080/engine-rest/';\n\nexport const post = (url, line) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('POST', url);\n\t\txhr.onreadystatechange = handleResponse;\n\t\txhr.onerror = (e) => reject(e);\n\t\txhr.send(line);\n\n\t\tfunction handleResponse() {\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t// console.log('200');\n\t\t\t\t\tvar res = JSON.parse(xhr.responseText);\n\t\t\t\t\tresolve(res);\n\t\t\t\t} else if (xhr.status === 204) {\n\t\t\t\t\t// console.log('204');\n\t\t\t\t\tres = xhr.responseText;\n\t\t\t\t\tresolve(res);\n\t\t\t\t} else {\n\t\t\t\t\treject(this.statusText);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nexport const get = (url) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', url);\n\t\txhr.onreadystatechange = handleResponse;\n\t\txhr.onerror = (e) => reject(e);\n\t\txhr.send();\n\n\t\tfunction handleResponse() {\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tvar res = JSON.parse(xhr.responseText);\n\t\t\t\t\tresolve(res);\n\t\t\t\t} else {\n\t\t\t\t\treject(this.statusText);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nexport const alert = (type, title, msg) => {\n\tappEvents.emit(`alert-${type}`, [ title, msg ]);\n};\n\nexport const showModal = (html, data, mClass) => {\n\tappEvents.emit('show-modal', {\n\t\tsrc: 'public/plugins/smart-factory-operator-order-mgt-table-panel/partials/' + html,\n\t\tmodalClass: mClass || 'confirm-modal',\n\t\tmodel: data\n\t});\n};\n\nexport const sure = (promise) =>\n\tpromise.then((data) => ({ ok: true, data })).catch((error) => Promise.resolve({ ok: false, error }));\n"]}